\chapter{Analýza řešení}
\label{chap:analysis}

V této kapitole se rozebírá vybrané řešení pro tuto práci.

\section{Aktuální stav}

Z rešerše vyplynulo, že Solid.js ekosystém má existující knihovny, které se snaží pokrýt problematiku znovupoužitelných knihoven.
V rámci této sekce jsem se rozhodl provést rešerši, které komponenty z \gls{apg} návrhových vzorů chybí v rámci Solid.js ekosystému.
V tabulce~\ref{tab:implemented-components} jsou vypsány všechny návrhové vzory z \gls{apg} a jejich stav existence ve vybraných knihovnách z Solid.js ekosystému.
Z tabulky se lze dočíst, že z \gls{apg} chybí implementace 8 návrhových vzorů.

\subsection{Navázání na existující knihovny}

Z rešerše jsem se rozhodl navázat na existující knihovnu Solid Aria z následujících důvodů:

\begin{itemize}
    \item Solid Aria je knihovna primitiv pro Solid.js. Primitiva mají výhodu, že jejich flexibilita umožňuje vytvořit headless komponenty, které by se mohly přidat do Kobalte.
    \item Vývoj Solid Aria je neaktivní narozdíl od Kobalte. Je zde tak možnost obnovit vývoj Solid Aria knihovny.
    \item Solid Aria je port React Aria, což znamená, že práce na React Aria může být využita i zde.
\end{itemize}

\subsection{Výběr komponent pro implementaci}

Pro úspěšný výsledek této práce je potřeba si definovat, které komponenty budou implementovány.
Z tabulky~\ref{tab:implemented-components} vychází, že v ekosystému chybí 8 komponent.
V rámci analýzy jsem vynechal některé komponenty, protože jejich implementace by byla triviální až zbytečná:

\begin{itemize}
    \item \textbf{Landmarks} --- Landmarks není komponenta, ale doporučení jak používat role pro popisování různých oblastí na webu.
    \item \textbf{Table} --- Obsahuje hlavně poznatky k správnému použití HTML prvků. Neobsahuje tak složitou klávesovou či jinou logiku.
    \item \textbf{Link} --- Prohlížeče podporují správnou přístupnost.
    \item \textbf{Window Splitter} --- Není zkontrolovaná specifikace.
\end{itemize}

TODO

\section{Funkční požadavky}

V této sekci jsou zadefinované funkční požadavky pro všechny implementované komponenty.

\subsection{Obecné}

V této podsekci jsou popsané obecné funkční požadavky, které by měly být splňovat všechny implementované komponenty.

\begin{itemize}
    \item \textbf{OFR 1.1 --- Navigace pomocí klávesových zkratek}

          Komponenta umožní klávesovou navigaci pomocí klávesových zkratek definovaných v \gls{apg}.

    \item \textbf{OFR 1.2 --- Definované aria atributy}

          Komponenta má správně nadefinované role z \gls{waiaria} atributů pro všechny její elementy a to včetně pomocných stavových atributů.

    \item \textbf{OFR 1.3 --- Možnost pojmenování instance komponenty}

          Komponenta umožní její pojmenování instance dle specifikace \gls{waiaria}.
\end{itemize}


\subsection{SpinButton}

\begin{itemize}
    \item \textbf{SFR 1.1 --- TODO}
\end{itemize}

\subsection{Toolbar}

\begin{itemize}
    \item \textbf{TFR 1.1 --- Vnoření libovolného počtu subkomponent}

          Komponenta umožňí vkládání libovolného počtu subkomponent, které se skládají z \textit{focusovatelných}\footnote{Elementy, které můžou dostat focus od uživatele (např. tlačítka, zaškrtávací políčka\dots).} elementů a oddělovačů obsahu.

    \item \textbf{TFR 1.2 --- Horizontální a vertikální pohled}

          Komponenta umožní nastavit horizontální a vertikální pohled, který mění způsob klávesové navigace v subkomponentách.
\end{itemize}

\section{Nefunkční požadavky}

V této sekci jsou zadefinované důležité nefunkční požadavky napříč všemi implementovanými komponenty tak, aby byla zaručena jejich vývojářská přívětivost, použitelnost a kvalita.

\begin{itemize}
    \item \textbf{NFR 1.1} --- Komponenty fungují v dvou posledních verzích prohlížečů Chrome\footnote{\url{https://google.com/chrome}}, Firefox\footnote{\url{https://mozilla.org/en-US/firefox}} a Safari\footnote{\url{https://apple.com/safari}}.
    \item \textbf{NFR 1.2} --- Komponenty fungují se čtečkou obrazovek VoiceOver pro MacOS.
    \item \textbf{NFR 1.3} --- Komponenty poskytují doplňování kódu pro vývojáře v Editoru, nebo \gls{ide}.
    \item \textbf{NFR 1.4} --- Dokumentace popisuje API komponenty a její účel.
    \item \textbf{NFR 1.5} --- Demo aplikace demonstruje použití komponenty a její funkčnost.
\end{itemize}

\section{HTA diagram}

Podle B. Kirwena a L. K. Ainsworth je \gls{hta} diagram ``nejlepší technika pro analýzu úkolů''~\cite{kirwan1992}.
Rozhodl jsem se tak použít tento diagram pro vizualizaci úkolů, které je potřeba udělat pro vytvoření knihovny komponent.
Z důvodu rozsahu této jsem převedl diagram do textové podoby a jeho vizualizace je v příloze~\ref{fig:hta}.

\begin{enumerate}[label=\arabic*.]
    \item Vytvoření knihovny
          \begin{enumerate}[label*=\arabic*.]
              \item Příprava repozitáře
                    \begin{enumerate}[label*=\arabic*.]
                        \item Příprava knihovny
                              \begin{enumerate}[label*=\arabic*.]
                                  \item \ul{Adresářová struktura}
                                  \item \ul{Delivery manifest}
                                  \item \ul{Přidat do npm registry}
                              \end{enumerate}
                        \item Vytvoření aplikace
                              \begin{enumerate}[label*=\arabic*.]
                                  \item \ul{Vytvoření aplikace}
                                  \item \ul{Vytvoření solidstart\footnote{\url{https://start.solidjs.com}} aplikace}
                                  \item \ul{Nasazení aplikace}
                              \end{enumerate}
                        \item Vytvoření dokumentace
                              \begin{enumerate}[label*=\arabic*.]
                                  \item \ul{Vytvoření starlight\footnote{\url{https://starlight.astro.build}} dokumentace}
                                  \item \ul{Vytvoření typedoc\footnote{\url{https://typedoc.org}} dokumentace}
                                  \item \ul{Nasazení aplikací}
                              \end{enumerate}
                    \end{enumerate}
              \item Vytvoření komponent
                    \begin{enumerate}[label*=\arabic*.]
                        \item Implementace logiky
                              \begin{enumerate}[label*=\arabic*.]
                                  \item \ul{Nastudování APG specifikace}
                                  \item \ul{Implementace v Solid.js}
                              \end{enumerate}
                        \item Otestování logiky
                              \begin{enumerate}[label*=\arabic*.]
                                  \item \ul{Unit testy podle specifikace}
                                  \item \ul{Chování v prohlížečích}
                              \end{enumerate}
                        \item Dokumentace komponent
                              \begin{enumerate}[label*=\arabic*.]
                                  \item \ul{Vytvoření typedoc komentářů}
                                  \item \ul{Přidání stránky do dokumentace}
                              \end{enumerate}
                    \end{enumerate}
          \end{enumerate}
\end{enumerate}
